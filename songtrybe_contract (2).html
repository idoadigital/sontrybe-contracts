<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Songtrybe DJ Participation & Marketing Agreement</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            height: 4px;
            background: #e0e0e0;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            width: 0%;
            transition: width 0.3s ease;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .header p {
            opacity: 0.9;
            font-size: 1.1em;
        }

        .form-container {
            padding: 30px;
        }

        .form-section {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            margin: 20px 0;
            background: #fafafa;
            transition: all 0.3s ease;
        }

        .form-section.active {
            border-color: #667eea;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .section-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 20px;
            font-size: 1.2em;
            font-weight: bold;
            border-radius: 6px 6px 0 0;
            cursor: pointer;
            display: flex;
            justify-content: between;
            align-items: center;
        }

        .section-header:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }

        .expand-icon {
            margin-left: auto;
            transition: transform 0.3s ease;
        }

        .section-header.expanded .expand-icon {
            transform: rotate(180deg);
        }

        .section-content {
            padding: 20px;
            background: white;
            display: none;
        }

        .section-content.expanded {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .form-group {
            margin: 15px 0;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }

        .checkbox-group input[type="checkbox"] {
            width: auto;
            margin-right: 10px;
            margin-top: 2px;
            transform: scale(1.2);
        }

        .checkbox-group label {
            margin-bottom: 0;
            cursor: pointer;
            font-size: 14px;
        }

        .services-table,
        .terms-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .services-table th,
        .services-table td,
        .terms-table th,
        .terms-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        .services-table th,
        .terms-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: bold;
        }

        .services-table tr:nth-child(even),
        .terms-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .signature-section {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            border-radius: 8px;
            margin: 30px 0;
            padding: 20px;
        }

        .signature-canvas {
            background: white;
            border: 2px solid #ddd;
            border-radius: 4px;
            cursor: crosshair;
            margin: 10px 0;
        }

        .canvas-controls {
            margin: 10px 0;
        }

        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .btn-secondary {
            background: #6c757d;
        }

        .btn-success {
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            font-size: 18px;
            padding: 15px 30px;
        }

        .btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .alert {
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }

        .alert-warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
        }

        .alert-success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }

        .completion-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            font-weight: bold;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }

        .step {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: #ddd;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: bold;
        }

        .step.active {
            background: #667eea;
        }

        .step.completed {
            background: #4caf50;
        }

        @media (max-width: 768px) {
            .form-container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="header">
            <h1>SONGTRYBE DJ PARTICIPATION & MARKETING AGREEMENT</h1>
            <p>Digital Contract Acceptance Form</p>
        </div>

        <div class="completion-status" id="completionStatus">
            Progress: <span id="progressText">0%</span>
        </div>

        <div class="step-indicator">
            <div class="step active" id="step1">1</div>
            <div class="step" id="step2">2</div>
            <div class="step" id="step3">3</div>
            <div class="step" id="step4">4</div>
        </div>

        <form class="form-container" id="contractForm">
            <div class="alert alert-warning">
                <strong>Important:</strong> Please read each section carefully and fill out all required information. You can expand/collapse sections by clicking on the headers.
            </div>

            <!-- Personal Information Section -->
            <div class="form-section active" id="section1">
                <div class="section-header" onclick="toggleSection(1)">
                    1. Personal Information
                    <span class="expand-icon">â–¼</span>
                </div>
                <div class="section-content expanded">
                    <div class="form-group">
                        <label for="djName">Full Name *</label>
                        <input type="text" id="djName" name="djName" required>
                    </div>
                    <div class="form-group">
                        <label for="stageName">Stage Name (if different)</label>
                        <input type="text" id="stageName" name="stageName">
                    </div>
                    <div class="form-group">
                        <label for="email">Email Address *</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="location">Location (City, State)</label>
                        <input type="text" id="location" name="location">
                    </div>
                    <div class="form-group">
                        <label for="experience">Years of DJ Experience</label>
                        <select id="experience" name="experience">
                            <option value="">Select...</option>
                            <option value="0-1">0-1 years</option>
                            <option value="1-3">1-3 years</option>
                            <option value="3-5">3-5 years</option>
                            <option value="5-10">5-10 years</option>
                            <option value="10+">10+ years</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Services & Benefits Section -->
            <div class="form-section" id="section2">
                <div class="section-header" onclick="toggleSection(2)">
                    2. Services & Benefits Overview
                    <span class="expand-icon">â–¼</span>
                </div>
                <div class="section-content">
                    <p><strong>Songtrybe will provide the following benefits at no cost:</strong></p>
                    <table class="services-table">
                        <thead>
                            <tr>
                                <th>Service</th>
                                <th>Description</th>
                                <th>Accept</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Free Profile Listing</strong></td>
                                <td>Featured on Songtrybe website directory</td>
                                <td><input type="checkbox" name="service1" checked></td>
                            </tr>
                            <tr>
                                <td><strong>Marketing Support</strong></td>
                                <td>Inclusion in digital campaigns targeting venues and promoters</td>
                                <td><input type="checkbox" name="service2" checked></td>
                            </tr>
                            <tr>
                                <td><strong>Booking Opportunities</strong></td>
                                <td>Referrals for Songtrybe-hosted events</td>
                                <td><input type="checkbox" name="service3" checked></td>
                            </tr>
                            <tr>
                                <td><strong>DJ Broadcast Network</strong></td>
                                <td>Exclusive SMS & email notifications</td>
                                <td><input type="checkbox" name="service4" checked></td>
                            </tr>
                            <tr>
                                <td><strong>Brand Collaboration</strong></td>
                                <td>Co-branded content and social media features</td>
                                <td><input type="checkbox" name="service5" checked></td>
                            </tr>
                            <tr>
                                <td><strong>Performance Data</strong></td>
                                <td>Access to booking insights and analytics</td>
                                <td><input type="checkbox" name="service6"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Complete Contract Terms Section -->
            <div class="form-section" id="section3">
                <div class="section-header" onclick="toggleSection(3)">
                    3. Complete Contract Terms & Conditions
                    <span class="expand-icon">â–¼</span>
                </div>
                <div class="section-content">
                    <div class="alert alert-warning">
                        <strong>Please review all 9 sections of the contract below:</strong>
                    </div>

                    <!-- Section 1: Purpose -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            1. Purpose
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p>This Agreement outlines the collaboration between Songtrybe and the DJ for marketing, bookings, and platform visibility. It provides mutual value through exposure, event access, and co-branded promotions.</p>
                        </div>
                    </div>

                    <!-- Section 2: Services (already shown above) -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            2. Services Provided by Songtrybe
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p><em>Detailed in Section 2 above - includes Profile Listing, Marketing Support, Booking Opportunities, DJ Broadcast Network, Brand Collaboration, and Performance Data Access.</em></p>
                        </div>
                    </div>

                    <!-- Section 3: Use of Name, Likeness, and Content -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            3. Use of Name, Likeness, and Content
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p>The DJ grants Songtrybe a royalty-free, worldwide, non-exclusive right to:</p>
                            <ul style="margin: 10px 0; padding-left: 20px;">
                                <li>Display the DJ's name, image, biography, links, and branding on Songtrybe's platforms.</li>
                                <li>Use the DJ's likeness in marketing, advertising, event promotions, and press campaigns.</li>
                                <li>Feature any submitted content (e.g., mixes, performance videos) on Songtrybe's digital channels, including social media, ads, and newsletters.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Section 4: Referral & Incentive Program -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            4. Referral & Incentive Program
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p><strong>DJ Referrals:</strong> DJs who refer venues, artists, or other DJs that join Songtrybe may receive bonuses (e.g., $50 per successful referral or priority in bookings).</p>
                            <p><strong>Exclusive Feature Opportunities:</strong> Top-performing DJs may be featured in Songtrybe editorial series, podcasts, or branded showcases.</p>
                        </div>
                    </div>

                    <!-- Section 5: Expectations & Responsibilities -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            5. Expectations & Responsibilities
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <ul style="margin: 10px 0; padding-left: 20px;">
                                <li>DJs agree to keep their profile and availability up to date.</li>
                                <li>Songtrybe agrees to use reasonable efforts to promote listed DJs but does not guarantee any specific number of bookings.</li>
                                <li>DJs must maintain professional standards when representing Songtrybe at events, including punctuality, appropriate behavior, and agreed-upon performance deliverables.</li>
                            </ul>
                        </div>
                    </div>

                    <!-- Section 6: Ownership & Rights -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            6. Ownership & Rights
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p><strong>DJ retains all ownership rights</strong> to their content and branding.</p>
                            <p><strong>Songtrybe has limited promotional rights</strong> for submitted assets for the term of this Agreement.</p>
                        </div>
                    </div>

                    <!-- Section 7: Term & Termination -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            7. Term & Termination
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p>This Agreement is effective upon signature and remains active unless terminated by either party with <strong>14 days' written notice</strong>.</p>
                            <p><strong>Upon termination:</strong> Songtrybe will remove the DJ's profile and stop using their content in new marketing. Archived content may remain for historical or platform integrity purposes.</p>
                        </div>
                    </div>

                    <!-- Section 8: Non-Circumvention -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            8. Non-Circumvention
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p>DJ agrees not to bypass Songtrybe in any direct deals resulting from Songtrybe-originated events or introductions without prior written consent.</p>
                            <p>For any direct bookings resulting from Songtrybe referral, DJ agrees to notify Songtrybe and optionally share a <strong>10% commission</strong> if facilitated by the platform.</p>
                        </div>
                    </div>

                    <!-- Section 9: Governing Law -->
                    <div class="form-section" style="margin: 10px 0;">
                        <div class="section-header" style="font-size: 1em; padding: 10px 15px;">
                            9. Governing Law
                        </div>
                        <div class="section-content" style="display: block; padding: 15px;">
                            <p>This Agreement shall be governed and construed in accordance with the laws of the State of <strong>[Insert State]</strong>.</p>
                        </div>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="termsAccept" name="termsAccept" required>
                        <label for="termsAccept">
                            <strong>I have read and agree to ALL 9 sections of this contract</strong>, including the use of my likeness for marketing purposes, professional conduct requirements, referral program terms, termination conditions, non-circumvention clause, and commission structure.
                        </label>
                    </div>

                    <div class="form-group">
                        <label for="governingState">Governing State Law *</label>
                        <select id="governingState" name="governingState" required>
                            <option value="">Select State...</option>
                            <option value="Alabama">Alabama</option>
                            <option value="Alaska">Alaska</option>
                            <option value="Arizona">Arizona</option>
                            <option value="Arkansas">Arkansas</option>
                            <option value="California">California</option>
                            <option value="Colorado">Colorado</option>
                            <option value="Connecticut">Connecticut</option>
                            <option value="Delaware">Delaware</option>
                            <option value="Florida">Florida</option>
                            <option value="Georgia">Georgia</option>
                            <option value="Hawaii">Hawaii</option>
                            <option value="Idaho">Idaho</option>
                            <option value="Illinois">Illinois</option>
                            <option value="Indiana">Indiana</option>
                            <option value="Iowa">Iowa</option>
                            <option value="Kansas">Kansas</option>
                            <option value="Kentucky">Kentucky</option>
                            <option value="Louisiana">Louisiana</option>
                            <option value="Maine">Maine</option>
                            <option value="Maryland">Maryland</option>
                            <option value="Massachusetts">Massachusetts</option>
                            <option value="Michigan">Michigan</option>
                            <option value="Minnesota">Minnesota</option>
                            <option value="Mississippi">Mississippi</option>
                            <option value="Missouri">Missouri</option>
                            <option value="Montana">Montana</option>
                            <option value="Nebraska">Nebraska</option>
                            <option value="Nevada">Nevada</option>
                            <option value="New Hampshire">New Hampshire</option>
                            <option value="New Jersey">New Jersey</option>
                            <option value="New Mexico">New Mexico</option>
                            <option value="New York">New York</option>
                            <option value="North Carolina">North Carolina</option>
                            <option value="North Dakota">North Dakota</option>
                            <option value="Ohio">Ohio</option>
                            <option value="Oklahoma">Oklahoma</option>
                            <option value="Oregon">Oregon</option>
                            <option value="Pennsylvania">Pennsylvania</option>
                            <option value="Rhode Island">Rhode Island</option>
                            <option value="South Carolina">South Carolina</option>
                            <option value="South Dakota">South Dakota</option>
                            <option value="Tennessee">Tennessee</option>
                            <option value="Texas">Texas</option>
                            <option value="Utah">Utah</option>
                            <option value="Vermont">Vermont</option>
                            <option value="Virginia">Virginia</option>
                            <option value="Washington">Washington</option>
                            <option value="West Virginia">West Virginia</option>
                            <option value="Wisconsin">Wisconsin</option>
                            <option value="Wyoming">Wyoming</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Digital Signature Section -->
            <div class="form-section signature-section" id="section4">
                <div class="section-header" onclick="toggleSection(4)">
                    4. Digital Signature & Agreement
                    <span class="expand-icon">â–¼</span>
                </div>
                <div class="section-content">
                    <div class="form-group">
                        <label>Digital Signature *</label>
                        <canvas id="signatureCanvas" class="signature-canvas" width="400" height="200"></canvas>
                        <div class="canvas-controls">
                            <button type="button" class="btn btn-secondary" onclick="clearSignature()">Clear Signature</button>
                            <button type="button" class="btn" onclick="saveSignature()">Save Signature</button>
                        </div>
                        <p style="font-size: 12px; opacity: 0.8;">Please sign above using your mouse or touch screen</p>
                    </div>

                    <div class="form-group">
                        <label for="signatureDate">Date of Signature *</label>
                        <input type="date" id="signatureDate" name="signatureDate" required>
                    </div>

                    <div class="checkbox-group">
                        <input type="checkbox" id="finalAccept" name="finalAccept" required>
                        <label for="finalAccept" style="color: black;">
                            <strong>I hereby digitally sign and agree to this Songtrybe DJ Participation & Marketing Agreement. I understand that this digital signature has the same legal effect as a handwritten signature.</strong>
                        </label>
                    </div>

                    <div class="alert alert-success" id="successMessage" style="display: none;">
                        <strong>Success!</strong> Your agreement has been completed. You will receive a confirmation email shortly.
                    </div>

                    <button type="submit" class="btn btn-success" id="submitBtn" disabled>
                        Complete Agreement & Download
                    </button>
                </div>
            </div>
        </form>
    </div>

    <script>
        let canvas, ctx, isDrawing = false;
        let completedSections = 0;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeSignatureCanvas();
            updateProgress();
            setTodayDate();
            
            // Add event listeners for form validation
            document.getElementById('contractForm').addEventListener('input', validateForm);
            document.getElementById('contractForm').addEventListener('change', validateForm);
            document.getElementById('contractForm').addEventListener('submit', handleSubmit);
        });

        function initializeSignatureCanvas() {
            canvas = document.getElementById('signatureCanvas');
            ctx = canvas.getContext('2d');
            ctx.strokeStyle = '#000';
            ctx.lineWidth = 2;

            // Mouse events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);

            // Touch events
            canvas.addEventListener('touchstart', startDrawing);
            canvas.addEventListener('touchmove', draw);
            canvas.addEventListener('touchend', stopDrawing);
        }

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            ctx.beginPath();
            ctx.moveTo(x, y);
        }

        function draw(e) {
            if (!isDrawing) return;
            e.preventDefault();
            const rect = canvas.getBoundingClientRect();
            const x = (e.clientX || e.touches[0].clientX) - rect.left;
            const y = (e.clientY || e.touches[0].clientY) - rect.top;
            ctx.lineTo(x, y);
            ctx.stroke();
        }

        function stopDrawing() {
            isDrawing = false;
        }

        function clearSignature() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            validateForm();
        }

        function saveSignature() {
            // In a real implementation, you would save the signature data
            alert('Signature saved successfully!');
        }

        function toggleSection(sectionNum) {
            const section = document.getElementById(`section${sectionNum}`);
            const content = section.querySelector('.section-content');
            const header = section.querySelector('.section-header');
            
            if (content.classList.contains('expanded')) {
                content.classList.remove('expanded');
                header.classList.remove('expanded');
                section.classList.remove('active');
            } else {
                content.classList.add('expanded');
                header.classList.add('expanded');
                section.classList.add('active');
            }
        }

        function setTodayDate() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('signatureDate').value = today;
        }

        function validateForm() {
            const requiredFields = ['djName', 'email', 'phone', 'termsAccept', 'governingState', 'signatureDate', 'finalAccept'];
            let completed = 0;
            let total = requiredFields.length + 1; // +1 for signature

            // Check required fields
            requiredFields.forEach(fieldName => {
                const field = document.getElementById(fieldName);
                if (field && (field.value || field.checked)) {
                    completed++;
                }
            });

            // Check signature
            const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
            const hasSignature = imageData.data.some(channel => channel !== 0);
            if (hasSignature) completed++;

            // Update progress
            const percentage = Math.round((completed / total) * 100);
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = percentage + '%';

            // Update step indicators
            const steps = [25, 50, 75, 100];
            steps.forEach((step, index) => {
                const stepEl = document.getElementById(`step${index + 1}`);
                if (percentage >= step) {
                    stepEl.classList.add('completed');
                    stepEl.classList.remove('active');
                } else if (percentage >= (steps[index - 1] || 0)) {
                    stepEl.classList.add('active');
                    stepEl.classList.remove('completed');
                } else {
                    stepEl.classList.remove('active', 'completed');
                }
            });

            // Enable/disable submit button
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = percentage < 100;
        }

        function handleSubmit(e) {
            e.preventDefault();
            
            // Generate and download PDF
            generatePDF();
            
            // Show success message
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('submitBtn').textContent = 'PDF Downloaded Successfully!';
            document.getElementById('submitBtn').disabled = true;

            setTimeout(() => {
                alert('Your Songtrybe DJ Agreement has been generated and downloaded as a PDF. Please save this document for your records.');
            }, 1000);
        }

        function generatePDF() {
            // Collect form data
            const formData = {
                djName: document.getElementById('djName').value,
                stageName: document.getElementById('stageName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                location: document.getElementById('location').value,
                experience: document.getElementById('experience').value,
                governingState: document.getElementById('governingState').value,
                signatureDate: document.getElementById('signatureDate').value,
                signature: canvas.toDataURL()
            };

            // Create PDF content
            const pdfContent = generatePDFContent(formData);
            
            // Create and download PDF
            const element = document.createElement('a');
            const file = new Blob([pdfContent], { type: 'text/plain' });
            element.href = URL.createObjectURL(file);
            element.download = `Songtrybe_DJ_Agreement_${formData.djName.replace(/\s+/g, '_')}_${new Date().toISOString().split('T')[0]}.txt`;
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        }

        function generatePDFContent(data) {
            return `
SONGTRYBE DJ PARTICIPATION & MARKETING AGREEMENT
Effective Date: ${data.signatureDate}

PARTIES:
DJ Name: ${data.djName}
Stage Name: ${data.stageName || 'N/A'}
Email: ${data.email}
Phone: ${data.phone}
Location: ${data.location || 'N/A'}
Experience: ${data.experience || 'N/A'}

This Agreement is made by and between Songtrybe Inc., a music technology and services platform ("Songtrybe"), and ${data.djName} ("DJ"), collectively referred to as "Parties."

1. PURPOSE
This Agreement outlines the collaboration between Songtrybe and the DJ for marketing, bookings, and platform visibility. It provides mutual value through exposure, event access, and co-branded promotions.

2. SERVICES PROVIDED BY SONGTRYBE
Songtrybe will provide the following benefits at no cost:

â€¢ Free Profile Listing: DJ will be featured on the Songtrybe website directory.
â€¢ Marketing Support: Inclusion in digital campaigns (email, social, paid ads) targeting promoters, event planners, and venues.
â€¢ Booking Opportunities: Songtrybe may refer the DJ for performances at Songtrybe-hosted or affiliated events.
â€¢ DJ Broadcast Network: DJ will be added to an exclusive SMS & email notification system for high-priority events and opportunities.
â€¢ Brand Collaboration: DJs may be selected for co-branded content campaigns and social media takeovers for increased visibility.
â€¢ Performance Data Access (Optional): Songtrybe may provide booking data insights such as gig count, fan reach, and performance feedback, when available.

3. USE OF NAME, LIKENESS, AND CONTENT
The DJ grants Songtrybe a royalty-free, worldwide, non-exclusive right to:
â€¢ Display the DJ's name, image, biography, links, and branding on Songtrybe's platforms.
â€¢ Use the DJ's likeness in marketing, advertising, event promotions, and press campaigns.
â€¢ Feature any submitted content (e.g., mixes, performance videos) on Songtrybe's digital channels, including social media, ads, and newsletters.

4. REFERRAL & INCENTIVE PROGRAM
DJ Referrals: DJs who refer venues, artists, or other DJs that join Songtrybe may receive bonuses (e.g., $50 per successful referral or priority in bookings).
Exclusive Feature Opportunities: Top-performing DJs may be featured in Songtrybe editorial series, podcasts, or branded showcases.

5. EXPECTATIONS & RESPONSIBILITIES
â€¢ DJs agree to keep their profile and availability up to date.
â€¢ Songtrybe agrees to use reasonable efforts to promote listed DJs but does not guarantee any specific number of bookings.
â€¢ DJs must maintain professional standards when representing Songtrybe at events, including punctuality, appropriate behavior, and agreed-upon performance deliverables.

6. OWNERSHIP & RIGHTS
â€¢ DJ retains all ownership rights to their content and branding.
â€¢ Songtrybe has limited promotional rights for submitted assets for the term of this Agreement.

7. TERM & TERMINATION
This Agreement is effective upon signature and remains active unless terminated by either party with 14 days' written notice.
Upon termination, Songtrybe will remove the DJ's profile and stop using their content in new marketing. Archived content may remain for historical or platform integrity purposes.

8. NON-CIRCUMVENTION
â€¢ DJ agrees not to bypass Songtrybe in any direct deals resulting from Songtrybe-originated events or introductions without prior written consent.
â€¢ For any direct bookings resulting from Songtrybe referral, DJ agrees to notify Songtrybe and optionally share a 10% commission if facilitated by the platform.

9. GOVERNING LAW
This Agreement shall be governed and construed in accordance with the laws of the State of ${data.governingState}.

DIGITAL SIGNATURE:
DJ Name: ${data.djName}
Date: ${data.signatureDate}
Digital Signature: [Signature captured and attached]

By signing this agreement digitally, ${data.djName} acknowledges reading, understanding, and agreeing to all 9 sections and terms and conditions outlined above.

Agreement completed on: ${new Date().toLocaleString()}

SONGTRYBE INC.
This agreement has been digitally executed and is legally binding.
            `;
        }

        function updateProgress() {
            validateForm();
        }
    </script>
</body>
</html>